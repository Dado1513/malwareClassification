clc
clear 

% compute hist to malware
malware_name = {"Adialer.C", "AgentFYI", "Allaple.A", "Allaple.L",  ...
            "Alueron.gen!J", "Autorun.K", "C2Lop.P", "C2Lop.gen!G", "Dialplatform.B",  ...
            "Dontovo.A", "Fakerean",  "Instantaccess", "Lolyda.AA 1", "Lolyda.AA 2",  ...
            "Lolyda.AA 3", "Lolyda.AT", "Malex.gen!J", "Obfuscator.AD", "Rbot!gen",  ...
            "Skintrim.N", "Swizzor.gen!E", "Swizzor.gen!I", "VB.AT", ...
            "Wintrim.BX", "Yuner.A"}; 

histo_value = [122, 116, 2949, 1591, 198, 106, 146, 200, 177, 162, 381, 431, 213, ...
                184, 123, 159, 136, 142, 158, 80, 128, 132, 408, 97, 800];

figure(1)
color_histo = [[237,248,251];[178,226,226];[102,194,164];[102,194,164];[44,162,95];[102,194,164];[44,162,95]; ... 
                [44,162,95];[237,248,251];[44,162,95];[161,217,155];[237,248,251];...
                [0,109,44];[0,109,44];[0,109,44];[0,109,44];[44,162,95];[44,162,95];[178,226,226];[44,162,95]; ... 
                [44,162,95];[44,162,95];[102,194,164];[44,162,95];[102,194,164]];

figure(1)
handle_used = [];
hold on
for i = 1:length(histo_value)
    h = bar(i,histo_value(i));
    %set(h,'XTickLabel',malware_name{i})
    %set(h,'XTickLabelRotation',45);
    set(h,'FaceColor',color_histo(i,:)/256);
    if ismember(i,[1,2,3,7,11,13])
        handle_used  = [handle_used h];
    end
end
%hb = bar(histo_value);
legend(handle_used,{'Dialer','Backdoor','Worm','Trojan','Rogue','PWS'});
xlabel('Malware Family Name');
ylabel('No. of Variants');
title('Malimg Dataset');
set(gca,'XTickLabel',malware_name,'XTick',1:numel(malware_name));
set(gca,'XTickLabelRotation',45);
grid on;
